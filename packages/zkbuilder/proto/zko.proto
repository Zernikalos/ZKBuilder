syntax = "proto2";

package Zko;

import "./commons.proto";
import "./component.proto";
import "./math.proto";
import "./group.proto";
import "./scene.proto";
import "./model.proto";
import "./camera.proto";
import "./skeleton.proto";
import "./action.proto";

message ZkoFormat {
  required ZkoHeader header = 1;
  map<string, ZkoObjectProto> objects = 3;
  required ZkoHierarchyNode hierarchy = 4;
  repeated ZkSkeletalAction actions = 5;
}

message ZkoHeader {
  required string version = 1;
}

message ZkoObjectProto {
  required string type = 1;
  required string refId = 2;

  optional ZkScene scene = 3;
  optional ZkGroup group = 4;
  optional ZkModel model = 5;
  optional ZkCamera camera = 6;
  optional ZkSkeleton skeleton = 7;
  optional ZkJoint joint = 8;
}

message ZkoHierarchyNode {
  required string refId = 1;
  repeated ZkoHierarchyNode children = 100;
}
